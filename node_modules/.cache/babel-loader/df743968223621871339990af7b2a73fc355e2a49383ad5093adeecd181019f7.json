{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import io from'socket.io-client';import SendIcon from'@mui/icons-material/Send';import AttachFileIcon from'@mui/icons-material/AttachFile';import CloseIcon from'@mui/icons-material/Close';import PersonIcon from'@mui/icons-material/Person';import SupportAgentIcon from'@mui/icons-material/SupportAgent';// Create the socket connection\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io(process.env.REACT_APP_SOCKET_URL||'https://api.urbanwealthcapitals.com/');function ChatInterface(){const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[userId,setUserId]=useState('');const[username,setUsername]=useState('');const[selectedFile,setSelectedFile]=useState(null);const[uploadProgress,setUploadProgress]=useState(0);const[isLoading,setIsLoading]=useState(false);const[socketConnected,setSocketConnected]=useState(false);const fileInputRef=useRef(null);const messagesEndRef=useRef(null);const query=new URLSearchParams(window.location.search);const userIds=query.get('userId');const usernames=query.get('username');console.log(\"Read data from \",userIds,usernames);// Fetch chat history from the server\nconst fetchChatHistory=async uid=>{if(!uid)return;setIsLoading(true);try{// Try the GET endpoint first\nlet response=await fetch(`${process.env.REACT_APP_API_URL}/api/chat/history/${uid}`);// If GET fails, try the POST endpoint\nif(!response.ok){console.log('GET request failed, trying POST...');response=await fetch(`${process.env.REACT_APP_API_URL}/api/chat/history`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId:uid})});}if(!response.ok){throw new Error('Failed to fetch chat history');}const historyData=await response.json();console.log('Fetched chat history:',historyData);// Convert the history data to our message format\nconst formattedMessages=historyData.map(msg=>{return{id:msg._id,text:msg.content,isBot:msg.senderType==='bot',timestamp:new Date(msg.timestamp),username:msg.senderType==='bot'?'Bot':msg.senderType==='admin'?'Admin':username,senderType:msg.senderType||'user',file:msg.file?{name:msg.file.originalname,type:msg.file.mimetype,data:msg.file.data}:null};});setMessages(formattedMessages);}catch(error){console.error('Error fetching chat history:',error);}finally{setIsLoading(false);}};useEffect(()=>{// const userData = JSON.parse(sessionStorage.getItem('userData') || '{}');\nif(userIds){setUserId(userIds);console.log('UserId from sessionStorage:',userIds);// Fetch chat history when userId is available\nfetchChatHistory(userIds);}if(usernames){setUsername(usernames);console.log('Username from sessionStorage:',usernames);}// Socket connection events\nsocket.on('connect',()=>{console.log('Socket connected:',socket.id);setSocketConnected(true);// Join user-specific room for direct messages\nif(userIds){socket.emit('join',{userId:userIds});console.log('Joined room for user:',userIds);}});socket.on('joined',data=>{console.log('Successfully joined room:',data);});socket.on('disconnect',()=>{console.log('Socket disconnected');setSocketConnected(false);});// Handle incoming messages via socket\nsocket.on('message',message=>{console.log('Socket message received:',message);// Format the message for our UI\nconst newMessage={id:message._id,text:message.content,isBot:message.senderType==='bot',timestamp:new Date(message.timestamp),username:message.senderType==='bot'?'Bot':message.senderType==='admin'?'Admin':username,senderType:message.senderType,file:message.file?{name:message.file.originalname,type:message.file.mimetype,data:message.file.data}:null};// Add message to state, avoiding duplicates\nsetMessages(prev=>{// Check if this message already exists (by id)\nconst exists=prev.some(msg=>msg.id===newMessage.id);if(exists){return prev;}return[...prev,newMessage];});});// Handle message updates\nsocket.on('messageUpdated',data=>{console.log('Message updated:',data);setMessages(prev=>prev.map(msg=>msg.id===data._id?{...msg,text:data.content,updatedAt:data.updatedAt}:msg));});// Handle message deletions\nsocket.on('messageDeleted',data=>{console.log('Message deleted:',data);setMessages(prev=>prev.map(msg=>msg.id===data._id?{...msg,isDeleted:true,deletedAt:data.deletedAt}:msg));});// Cleanup\nreturn()=>{socket.off('connect');socket.off('joined');socket.off('disconnect');socket.off('message');socket.off('messageUpdated');socket.off('messageDeleted');};},[]);// Watch for changes in userId (if user logs in after page load)\nuseEffect(()=>{if(userId){fetchChatHistory(userId);// Join user-specific room if socket is connected\nif(socketConnected){socket.emit('join',{userId});console.log('Joined room for user:',userId);}}},[userId,socketConnected]);useEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages]);const handleFileSelect=event=>{const file=event.target.files[0];if(file){setSelectedFile(file);}};const removeSelectedFile=()=>{setSelectedFile(null);if(fileInputRef.current){fileInputRef.current.value='';}};const handleSend=async e=>{e.preventDefault();if(!input.trim()&&!selectedFile)return;// Get latest userId from sessionStorage in case it was updated\n// const userData = JSON.parse(sessionStorage.getItem('userData') || '{}');\nconst currentUserId=userIds||userId;const currentUsername=usernames||username;console.log('Current username:',currentUsername);// For text-only messages, use WebSocket for instant delivery\nif(input.trim()&&!selectedFile&&socketConnected){console.log('Sending message via WebSocket');socket.emit('sendMessage',{userId:currentUserId,text:input,timestamp:new Date(),username:currentUsername});setInput('');return;}// For files or when socket is not connected, use REST API\nconsole.log('Sending message via REST API');const formData=new FormData();formData.append('userId',currentUserId);formData.append('message',input);if(selectedFile){formData.append('file',selectedFile);}console.log('Sending message request with file:',selectedFile===null||selectedFile===void 0?void 0:selectedFile.name);try{const response=await fetch(`${process.env.REACT_APP_API_URL}/api/chat`,{method:'POST',body:formData});const data=await response.json();console.log('Server response:',data);// Add messages to UI (if not already added via socket)\nconst userMessage={id:Date.now().toString(),// Temporary ID \ntext:input,isBot:false,timestamp:new Date(),username:currentUsername,senderType:'user',file:selectedFile?{name:selectedFile.name,type:selectedFile.type,data:data.fileData}:null};const botMessage={id:(Date.now()+1).toString(),// Temporary ID\ntext:data.botResponse,isBot:true,timestamp:new Date(),username:'Bot',senderType:'bot'};setMessages(prev=>{// Only add these messages if they don't already exist\n// Socket handling might have already added them\nconst userExists=prev.some(msg=>msg.text===userMessage.text&&Math.abs(new Date(msg.timestamp)-new Date(userMessage.timestamp))<1000&&msg.senderType==='user');const botExists=prev.some(msg=>msg.text===botMessage.text&&Math.abs(new Date(msg.timestamp)-new Date(botMessage.timestamp))<3000&&msg.senderType==='bot');const newMessages=[...prev];if(!userExists)newMessages.push(userMessage);if(!botExists)newMessages.push(botMessage);return newMessages;});setInput('');setSelectedFile(null);if(fileInputRef.current){fileInputRef.current.value='';}}catch(error){console.error('Error sending message:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"header-icon\",children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"header-title\",children:\"Customer Support\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-container\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(PersonIcon,{fontSize:\"small\",className:\"user-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:username||'Guest'})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-messages-container\",children:isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-text\",children:\"Loading your conversation...\"})]}):messages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-chat\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome-icon\",children:/*#__PURE__*/_jsx(SupportAgentIcon,{style:{fontSize:'3.5rem',color:'#3b82f6'}})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Customer Support\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Send a message to start chatting with our support team.\"})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"messages-list\",children:[messages.map((message,index)=>{const isFromUser=message.senderType==='user';const isFromBot=message.senderType==='bot';const isFromAdmin=message.senderType==='admin';return/*#__PURE__*/_jsxs(\"div\",{className:`message-row ${isFromUser?'user-row':'other-row'}`,children:[!isFromUser&&/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bot-avatar\",children:/*#__PURE__*/_jsx(SupportAgentIcon,{fontSize:\"small\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:`message ${isFromUser?'user-message':isFromBot?'bot-message':'admin-message'} ${message.isDeleted?'deleted-message':''}`,children:[message.isDeleted?/*#__PURE__*/_jsx(\"div\",{className:\"message-deleted\",children:\"This message has been deleted\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-text\",children:message.text}),message.file&&/*#__PURE__*/_jsx(\"div\",{className:\"message-attachment\",children:message.file.type&&message.file.type.startsWith('image/')?/*#__PURE__*/_jsxs(\"div\",{className:\"image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:message.file.data,alt:message.file.name,className:\"message-image\",onClick:()=>window.open(message.file.data,'_blank')}),/*#__PURE__*/_jsx(\"div\",{className:\"image-download\",children:/*#__PURE__*/_jsx(\"a\",{href:message.file.data,download:message.file.name,className:\"download-link\",children:\"Download\"})})]}):null})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message-meta\",children:/*#__PURE__*/_jsx(\"span\",{className:\"message-time\",children:message.timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})})]}),isFromUser&&/*#__PURE__*/_jsx(\"div\",{className:\"avatar user-avatar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar-inner\",children:/*#__PURE__*/_jsx(PersonIcon,{fontSize:\"small\"})})})]},message.id||index);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-input-area\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"input-form\",onSubmit:handleSend,children:[selectedFile&&/*#__PURE__*/_jsx(\"div\",{className:\"selected-file-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"selected-file\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-icon\",children:\"\\uD83D\\uDCCE\"}),/*#__PURE__*/_jsx(\"span\",{className:\"file-name\",children:selectedFile.name})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"remove-file-button\",onClick:removeSelectedFile,children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"attach-button\",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:isLoading,children:/*#__PURE__*/_jsx(AttachFileIcon,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileSelect,ref:fileInputRef,style:{display:'none'},id:\"file-upload\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"Type a message...\",className:\"message-input\",disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"send-button\",disabled:!input.trim()&&!selectedFile||isLoading,children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"sending-spinner\"}):/*#__PURE__*/_jsx(SendIcon,{})})]})]})}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        .chat-container {\n          display: flex;\n          flex-direction: column;\n          height: 100vh;\n          max-width: 900px;\n          margin: 0 auto;\n          border: none;\n          border-radius: 24px;\n          overflow: hidden;\n          box-shadow: 0 12px 48px rgba(0,0,0,0.4);\n          background: #07030c;\n        }\n        \n        .chat-header {\n          background: linear-gradient(120deg, #e0f2fe 0%, #bae6fd 50%, #7dd3fc 100%);\n          color: #0c4a6e;\n          padding: 20px;\n          position: relative;\n          z-index: 10;\n          box-shadow: 0 4px 15px rgba(56, 189, 248, 0.15);\n          border-bottom: 1px solid rgba(56, 189, 248, 0.2);\n        }\n        \n        .header-content {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 0 10px;\n        }\n        \n        .logo-container {\n          display: flex;\n          align-items: center;\n          background: rgba(255, 255, 255, 0.5);\n          padding: 8px 15px;\n          border-radius: 20px;\n          box-shadow: 0 2px 10px rgba(56, 189, 248, 0.12);\n          border: 1px solid rgba(186, 230, 253, 0.5);\n        }\n        \n        .header-icon {\n          font-size: 24px;\n          margin-right: 10px;\n          color: #0284c7;\n        }\n        \n        .header-title {\n          font-size: 20px;\n          font-weight: 600;\n          background: linear-gradient(to right, #0c4a6e, #0369a1);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          letter-spacing: 0.5px;\n        }\n        \n        .user-container {\n          background: rgba(255, 255, 255, 0.5);\n          padding: 6px 12px;\n          border-radius: 15px;\n          display: flex;\n          align-items: center;\n          box-shadow: 0 2px 8px rgba(56, 189, 248, 0.1);\n          border: 1px solid rgba(186, 230, 253, 0.5);\n        }\n        \n        .user-info {\n          display: flex;\n          align-items: center;\n        }\n        \n        .user-icon {\n          color: #0284c7 !important;\n          margin-right: 5px;\n        }\n        \n        .username {\n          font-weight: 500;\n          color: #0369a1;\n        }\n        \n        .chat-messages-container {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px 24px;\n          background: linear-gradient(180deg, #0a0514 0%, #11051d 100%);\n          background-attachment: fixed;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .messages-list {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n        \n        .message-row {\n          display: flex;\n          align-items: flex-end;\n          gap: 14px;\n          max-width: 85%;\n        }\n        \n        .user-row {\n          align-self: flex-end;\n          margin-right: 10px;\n        }\n        \n        .other-row {\n          align-self: flex-start;\n          margin-left: 10px;\n        }\n        \n        .avatar {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n          overflow: hidden;\n          flex-shrink: 0;\n        }\n        \n        .bot-avatar {\n          background: linear-gradient(135deg, #2563eb, #3b82f6);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n          border: 2px solid rgba(255, 255, 255, 0.3);\n          box-shadow: 0 2px 8px rgba(37, 99, 235, 0.5);\n        }\n        \n        .admin-message {\n          background: #1e1a24;\n          color: #eee;\n          border-bottom-left-radius: 4px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          border-left: 3px solid #3b82f6;\n        }\n        \n        .user-avatar {\n          background: linear-gradient(135deg, #7dd3fc, #38bdf8);\n          color: white;\n          position: relative;\n          border: 2px solid rgba(255, 255, 255, 0.5);\n          box-shadow: 0 2px 8px rgba(56, 189, 248, 0.4);\n        }\n        \n        .user-avatar-inner {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: linear-gradient(135deg, #7dd3fc, #38bdf8);\n          border-radius: 50%;\n        }\n        \n        .message {\n          position: relative;\n          padding: 0;\n          border-radius: 18px;\n          animation: fadeIn 0.3s ease-out;\n          transition: transform 0.2s ease;\n          max-width: 600px;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .message:hover {\n          transform: translateY(-2px);\n        }\n        \n        .bot-message {\n          background: #1e1a24;\n          color: #eee;\n          border-bottom-left-radius: 4px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          border-left: 3px solid #3b82f6;\n        }\n        \n        .user-message {\n          background: linear-gradient(135deg, #bae6fd, #7dd3fc);\n          color: #0c4a6e;\n          border-bottom-right-radius: 4px;\n          box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);\n        }\n        \n        .message-bubble {\n          padding: 14px 18px;\n        }\n        \n        .message-text {\n          font-size: 1.05em;\n          line-height: 1.5;\n          word-break: break-word;\n        }\n        \n        .message-meta {\n          display: flex;\n          justify-content: flex-end;\n          padding: 2px 12px 8px;\n        }\n        \n        .message-time {\n          font-size: 0.75em;\n          opacity: 0.8;\n        }\n        \n        .message-deleted {\n          padding: 12px 18px;\n          font-style: italic;\n          opacity: 0.7;\n        }\n        \n        .chat-input-area {\n          padding: 20px 24px;\n          background: #0a0514;\n          border-top: 1px solid rgba(59, 130, 246, 0.1);\n          position: relative;\n        }\n        \n        .input-form {\n          max-width: 1100px;\n          margin: 0 auto;\n        }\n        \n        .input-container {\n          display: flex;\n          align-items: center;\n          gap: 14px;\n          background: rgba(30, 26, 36, 0.8);\n          border-radius: 50px;\n          padding: 6px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n        }\n        \n        .message-input {\n          flex: 1;\n          height: 42px;\n          padding: 0 16px;\n          border: none;\n          border-radius: 30px;\n          outline: none;\n          background: transparent;\n          color: white;\n          font-size: 1.05em;\n          transition: all 0.3s ease;\n        }\n        \n        .message-input:focus {\n          box-shadow: none;\n        }\n        \n        .attach-button, \n        .send-button {\n          width: 42px;\n          height: 42px;\n          border-radius: 50%;\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          flex-shrink: 0;\n        }\n        \n        .attach-button {\n          background: transparent;\n          color: #a9a6b0;\n        }\n        \n        .attach-button:hover:not(:disabled) {\n          background: rgba(255, 255, 255, 0.1);\n          transform: translateY(-2px);\n          color: #3b82f6;\n        }\n        \n        .send-button {\n          background: linear-gradient(135deg, #38bdf8, #0284c7);\n          color: white;\n          box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);\n        }\n        \n        .send-button:disabled, \n        .attach-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none;\n        }\n        \n        .send-button:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 16px rgba(56, 189, 248, 0.3);\n        }\n        \n        .selected-file-container {\n          background: rgba(30, 26, 36, 0.8);\n          border-radius: 16px;\n          padding: 10px 16px;\n          margin-bottom: 12px;\n          border-left: 3px solid #38bdf8;\n          animation: slideIn 0.3s ease;\n        }\n        \n        @keyframes slideIn {\n          from { opacity: 0; transform: translateY(-10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .selected-file {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .file-info {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          color: #d4d0df;\n        }\n        \n        .file-name {\n          font-size: 0.95em;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: 300px;\n        }\n        \n        .remove-file-button {\n          background: none;\n          border: none;\n          color: #a9a6b0;\n          cursor: pointer;\n          border-radius: 50%;\n          width: 30px;\n          height: 30px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n        \n        .remove-file-button:hover {\n          background: rgba(255,255,255,0.1);\n          color: #ef4444;\n        }\n        \n        .message-image {\n          max-width: 100%;\n          height: auto;\n          max-height: 300px;\n          border-radius: 12px;\n          \n          transition: transform 0.3s ease;\n        }\n        \n        .message-image:hover {\n          transform: scale(1.02);\n        }\n        \n        .image-container {\n          position: relative;\n          overflow: hidden;\n          border-radius: 12px;\n          \n        }\n        \n        .image-download {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          background: rgba(0,0,0,0.7);\n          padding: 8px;\n          text-align: center;\n          transform: translateY(100%);\n          transition: transform 0.3s ease;\n        }\n        \n        .image-container:hover .image-download {\n          transform: translateY(0);\n        }\n        \n        .download-link {\n          color: white;\n          text-decoration: none;\n          font-size: 0.85em;\n          font-weight: 500;\n        }\n        \n        .file-link {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 10px 14px;\n          background: rgba(255,255,255,0.05);\n          border-radius: 12px;\n          text-decoration: none;\n          color: inherit;\n          transition: background 0.2s ease;\n          margin-top: 10px;\n        }\n        \n        .file-link:hover {\n          background: rgba(255,255,255,0.1);\n        }\n        \n        .file-details {\n          flex: 1;\n        }\n        \n        .file-action {\n          font-size: 0.8em;\n          opacity: 0.7;\n          margin-top: 4px;\n        }\n        \n        .loading-container,\n        .empty-chat {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 40px;\n        }\n        \n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid rgba(56, 189, 248, 0.1);\n          border-top: 3px solid #38bdf8;\n          border-radius: 50%;\n          margin-bottom: 20px;\n          animation: spin 1s linear infinite;\n        }\n        \n        .sending-spinner {\n          width: 20px;\n          height: 20px;\n          border: 2px solid rgba(255,255,255,0.2);\n          border-top: 2px solid white;\n          border-radius: 50%;\n          animation: spin 0.8s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .loading-text {\n          color: #a9a6b0;\n          font-size: 1.1em;\n        }\n        \n        .welcome-message {\n          text-align: center;\n          max-width: 450px;\n          background: rgba(255,255,255,0.03);\n          padding: 40px;\n          border-radius: 20px;\n          box-shadow: 0 8px 32px rgba(0,0,0,0.1);\n          animation: fadeIn 0.5s ease-out;\n        }\n        \n        .welcome-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 20px;\n          filter: drop-shadow(0 4px 6px rgba(56, 189, 248, 0.3));\n          background: linear-gradient(135deg, #38bdf8, #0284c7);\n          width: 80px;\n          height: 80px;\n          border-radius: 50%;\n          margin-left: auto;\n          margin-right: auto;\n          border: 3px solid rgba(255, 255, 255, 0.3);\n        }\n        \n        .welcome-message h2 {\n          font-size: 1.8em;\n          margin-bottom: 12px;\n          background: linear-gradient(135deg, #38bdf8, #0284c7);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          font-weight: 700;\n        }\n        \n        .welcome-message p {\n          color: #a9a6b0;\n          font-size: 1.1em;\n          line-height: 1.6;\n        }\n\n        @media (max-width: 768px) {\n          .chat-container {\n            margin: 0;\n            border-radius: 0;\n            height: 100vh;\n          }\n          \n          .chat-header {\n            padding: 16px;\n          }\n          \n          .header-content {\n            flex-direction: row;\n            justify-content: space-between;\n            gap: 10px;\n          }\n          \n          .header-icon {\n            font-size: 1.8em;\n          }\n          \n          .header-title {\n            font-size: 1.5em;\n          }\n          \n          .user-info {\n            padding: 8px 16px;\n          }\n          \n          .username {\n            font-size: 1.1em;\n          }\n          \n          .message-row {\n            max-width: 100%;\n          }\n          \n          .message {\n            max-width: 85%;\n          }\n          \n          .bot-message,\n          .admin-message {\n            max-width: 80%;\n          }\n          \n          .message-input {\n            height: 48px;\n            padding: 0 16px;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 48px;\n            height: 48px;\n          }\n          \n          .message-image {\n            max-height: 200px;\n          }\n          \n          .chat-input-area {\n            padding: 14px;\n          }\n          \n          .input-container {\n            padding: 4px;\n            gap: 8px;\n          }\n          \n          .message-input {\n            height: 38px;\n            padding: 0 12px;\n            font-size: 1em;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 38px;\n            height: 38px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .chat-header {\n            padding: 12px;\n          }\n          \n          .header-icon {\n            font-size: 1.5em;\n          }\n          \n          .header-title {\n            font-size: 1.3em;\n          }\n          \n          .user-info {\n            padding: 6px 12px;\n          }\n          \n          .username {\n            font-size: 1em;\n          }\n          \n          .chat-messages-container {\n            padding: 20px 12px;\n          }\n          \n          .message-row {\n            gap: 8px;\n          }\n          \n          .avatar {\n            width: 28px;\n            height: 28px;\n          }\n          \n          .message-bubble {\n            padding: 12px 14px;\n          }\n          \n          .message-text {\n            font-size: 0.95em;\n          }\n          \n          .message-input {\n            height: 44px;\n            font-size: 0.95em;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 44px;\n            height: 44px;\n          }\n          \n          .chat-input-area {\n            padding: 10px;\n          }\n          \n          .input-container {\n            padding: 3px;\n            gap: 6px;\n          }\n          \n          .message-input {\n            height: 36px;\n            font-size: 0.95em;\n            padding: 0 10px;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 36px;\n            height: 36px;\n          }\n          \n          .welcome-message {\n            padding: 24px;\n          }\n          \n          .welcome-message h2 {\n            font-size: 1.4em;\n          }\n          \n          .welcome-message p {\n            font-size: 1em;\n          }\n        }\n      `})]});}export default ChatInterface;","map":{"version":3,"names":["React","useState","useEffect","useRef","io","SendIcon","AttachFileIcon","CloseIcon","PersonIcon","SupportAgentIcon","jsx","_jsx","jsxs","_jsxs","socket","process","env","REACT_APP_SOCKET_URL","ChatInterface","messages","setMessages","input","setInput","userId","setUserId","username","setUsername","selectedFile","setSelectedFile","uploadProgress","setUploadProgress","isLoading","setIsLoading","socketConnected","setSocketConnected","fileInputRef","messagesEndRef","query","URLSearchParams","window","location","search","userIds","get","usernames","console","log","fetchChatHistory","uid","response","fetch","REACT_APP_API_URL","ok","method","headers","body","JSON","stringify","Error","historyData","json","formattedMessages","map","msg","id","_id","text","content","isBot","senderType","timestamp","Date","file","name","originalname","type","mimetype","data","error","on","emit","message","newMessage","prev","exists","some","updatedAt","isDeleted","deletedAt","off","_messagesEndRef$curre","current","scrollIntoView","behavior","handleFileSelect","event","target","files","removeSelectedFile","value","handleSend","e","preventDefault","trim","currentUserId","currentUsername","formData","FormData","append","userMessage","now","toString","fileData","botMessage","botResponse","userExists","Math","abs","botExists","newMessages","push","className","children","fontSize","length","style","color","index","isFromUser","isFromBot","isFromAdmin","startsWith","src","alt","onClick","open","href","download","toLocaleTimeString","hour","minute","ref","onSubmit","_fileInputRef$current","click","disabled","onChange","display","placeholder"],"sources":["/workspaces/chatbot-client/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport SendIcon from '@mui/icons-material/Send';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport CloseIcon from '@mui/icons-material/Close';\nimport PersonIcon from '@mui/icons-material/Person';\nimport SupportAgentIcon from '@mui/icons-material/SupportAgent';\n\n\n\n\n\n\n// Create the socket connection\nconst socket = io(process.env.REACT_APP_SOCKET_URL || 'https://api.urbanwealthcapitals.com/');\n\nfunction ChatInterface() {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [userId, setUserId] = useState('');\n  const [username, setUsername] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [socketConnected, setSocketConnected] = useState(false);\n  const fileInputRef = useRef(null);\n  const messagesEndRef = useRef(null);\n\n\n  const query = new URLSearchParams(window.location.search);\n  const userIds = query.get('userId');\n  const usernames = query.get('username');\n  console.log(\"Read data from \",userIds,usernames);\n\n \n\n  // Fetch chat history from the server\n  const fetchChatHistory = async (uid) => {\n    if (!uid) return;\n    \n    setIsLoading(true);\n    try {\n      // Try the GET endpoint first\n let response = await fetch(`${process.env.REACT_APP_API_URL}/api/chat/history/${uid}`);\n      \n      // If GET fails, try the POST endpoint\n      if (!response.ok) {\n        console.log('GET request failed, trying POST...');\n        response = await fetch(`${process.env.REACT_APP_API_URL}/api/chat/history`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ userId: uid })\n        });\n      }\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch chat history');\n      }\n      \n      const historyData = await response.json();\n      console.log('Fetched chat history:', historyData);\n      \n      // Convert the history data to our message format\n      const formattedMessages = historyData.map((msg) => {\n        return {\n          id: msg._id,\n          text: msg.content,\n          isBot: msg.senderType === 'bot',\n          timestamp: new Date(msg.timestamp),\n          username: msg.senderType === 'bot' ? 'Bot' : (msg.senderType === 'admin' ? 'Admin' : username),\n          senderType: msg.senderType || 'user',\n          file: msg.file ? {\n            name: msg.file.originalname,\n            type: msg.file.mimetype,\n            data: msg.file.data\n          } : null\n        };\n      });\n      \n      setMessages(formattedMessages);\n    } catch (error) {\n      console.error('Error fetching chat history:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    // const userData = JSON.parse(sessionStorage.getItem('userData') || '{}');\n    if (userIds) {\n      setUserId(userIds);\n      console.log('UserId from sessionStorage:', userIds);\n      // Fetch chat history when userId is available\n      fetchChatHistory(userIds);\n    }\n    if (usernames) {\n      setUsername(usernames);\n      console.log('Username from sessionStorage:', usernames);\n    }\n\n    // Socket connection events\n    socket.on('connect', () => {\n      console.log('Socket connected:', socket.id);\n      setSocketConnected(true);\n      \n      // Join user-specific room for direct messages\n      if (userIds) {\n        socket.emit('join', { userId: userIds });\n        console.log('Joined room for user:', userIds);\n      }\n    });\n    \n    socket.on('joined', (data) => {\n      console.log('Successfully joined room:', data);\n    });\n    \n    socket.on('disconnect', () => {\n      console.log('Socket disconnected');\n      setSocketConnected(false);\n    });\n\n    // Handle incoming messages via socket\n    socket.on('message', (message) => {\n      console.log('Socket message received:', message);\n      \n      // Format the message for our UI\n      const newMessage = {\n        id: message._id,\n        text: message.content,\n        isBot: message.senderType === 'bot',\n        timestamp: new Date(message.timestamp),\n        username: message.senderType === 'bot' ? 'Bot' : (message.senderType === 'admin' ? 'Admin' : username),\n        senderType: message.senderType,\n        file: message.file ? {\n          name: message.file.originalname,\n          type: message.file.mimetype,\n          data: message.file.data\n        } : null\n      };\n      \n      // Add message to state, avoiding duplicates\n      setMessages(prev => {\n        // Check if this message already exists (by id)\n        const exists = prev.some(msg => msg.id === newMessage.id);\n        if (exists) {\n          return prev;\n        }\n        return [...prev, newMessage];\n      });\n    });\n    \n    // Handle message updates\n    socket.on('messageUpdated', (data) => {\n      console.log('Message updated:', data);\n      \n      setMessages(prev => prev.map(msg => \n        msg.id === data._id \n          ? { ...msg, text: data.content, updatedAt: data.updatedAt }\n          : msg\n      ));\n    });\n    \n    // Handle message deletions\n    socket.on('messageDeleted', (data) => {\n      console.log('Message deleted:', data);\n      \n      setMessages(prev => prev.map(msg => \n        msg.id === data._id \n          ? { ...msg, isDeleted: true, deletedAt: data.deletedAt }\n          : msg\n      ));\n    });\n\n    // Cleanup\n    return () => {\n      socket.off('connect');\n      socket.off('joined');\n      socket.off('disconnect');\n      socket.off('message');\n      socket.off('messageUpdated');\n      socket.off('messageDeleted');\n    };\n  }, []);\n\n  // Watch for changes in userId (if user logs in after page load)\n  useEffect(() => {\n    if (userId) {\n      fetchChatHistory(userId);\n      \n      // Join user-specific room if socket is connected\n      if (socketConnected) {\n        socket.emit('join', { userId });\n        console.log('Joined room for user:', userId);\n      }\n    }\n  }, [userId, socketConnected]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n    }\n  };\n\n  const removeSelectedFile = () => {\n    setSelectedFile(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    if (!input.trim() && !selectedFile) return;\n\n    // Get latest userId from sessionStorage in case it was updated\n    // const userData = JSON.parse(sessionStorage.getItem('userData') || '{}');\n    const currentUserId = userIds || userId;\n    const currentUsername = usernames || username;\n    \n    console.log('Current username:', currentUsername);\n    \n    // For text-only messages, use WebSocket for instant delivery\n    if (input.trim() && !selectedFile && socketConnected) {\n      console.log('Sending message via WebSocket');\n      \n      socket.emit('sendMessage', {\n        userId: currentUserId,\n        text: input,\n        timestamp: new Date(),\n        username: currentUsername\n      });\n      \n      setInput('');\n      return;\n    }\n    \n    // For files or when socket is not connected, use REST API\n    console.log('Sending message via REST API');\n    \n    const formData = new FormData();\n    formData.append('userId', currentUserId);\n    formData.append('message', input);\n    if (selectedFile) {\n      formData.append('file', selectedFile);\n    }\n    \n    console.log('Sending message request with file:', selectedFile?.name);\n\n    try {\n const response = await fetch(`${process.env.REACT_APP_API_URL}/api/chat`, {\n        method: 'POST',\n        body: formData\n      });\n      \n      const data = await response.json();\n      console.log('Server response:', data);\n      \n      // Add messages to UI (if not already added via socket)\n      const userMessage = {\n        id: Date.now().toString(), // Temporary ID \n        text: input,\n        isBot: false,\n        timestamp: new Date(),\n        username: currentUsername,\n        senderType: 'user',\n        file: selectedFile ? {\n          name: selectedFile.name,\n          type: selectedFile.type,\n          data: data.fileData\n        } : null\n      };\n      \n      const botMessage = {\n        id: (Date.now() + 1).toString(), // Temporary ID\n        text: data.botResponse,\n        isBot: true,\n        timestamp: new Date(),\n        username: 'Bot',\n        senderType: 'bot'\n      };\n      \n      setMessages(prev => {\n        // Only add these messages if they don't already exist\n        // Socket handling might have already added them\n        const userExists = prev.some(msg => \n          msg.text === userMessage.text && \n          Math.abs(new Date(msg.timestamp) - new Date(userMessage.timestamp)) < 1000 &&\n          msg.senderType === 'user'\n        );\n        \n        const botExists = prev.some(msg => \n          msg.text === botMessage.text && \n          Math.abs(new Date(msg.timestamp) - new Date(botMessage.timestamp)) < 3000 &&\n          msg.senderType === 'bot'\n        );\n        \n        const newMessages = [...prev];\n        if (!userExists) newMessages.push(userMessage);\n        if (!botExists) newMessages.push(botMessage);\n        \n        return newMessages;\n      });\n\n      setInput('');\n      setSelectedFile(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n    }\n  };\n\n\n  \n\n  return (\n    <div className=\"chat-container\">\n      <div className=\"chat-header\">\n        <div className=\"header-content\">\n          <div className=\"logo-container\">\n            <span className=\"header-icon\">ðŸ’¬</span>\n            <h1 className=\"header-title\">Customer Support</h1>\n          </div>\n          <div className=\"user-container\">\n            <span className=\"user-info\">\n              <PersonIcon fontSize=\"small\" className=\"user-icon\" />\n              <span className=\"username\">{username || 'Guest'}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"chat-messages-container\">\n        {isLoading ? (\n          <div className=\"loading-container\">\n            <div className=\"loading-spinner\"></div>\n            <p className=\"loading-text\">Loading your conversation...</p>\n          </div>\n        ) : messages.length === 0 ? (\n          <div className=\"empty-chat\">\n            <div className=\"welcome-message\">\n              <div className=\"welcome-icon\">\n                <SupportAgentIcon style={{ fontSize: '3.5rem', color: '#3b82f6' }} />\n              </div>\n              <h2>Welcome to Customer Support</h2>\n              <p>Send a message to start chatting with our support team.</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"messages-list\">\n            {messages.map((message, index) => {\n              const isFromUser = message.senderType === 'user';\n              const isFromBot = message.senderType === 'bot';\n              const isFromAdmin = message.senderType === 'admin';\n              \n              return (\n                <div\n                  key={message.id || index}\n                  className={`message-row ${isFromUser ? 'user-row' : 'other-row'}`}\n                >\n                  {!isFromUser && (\n                    <div className=\"avatar\">\n                      <div className=\"bot-avatar\">\n                        <SupportAgentIcon fontSize=\"small\" />\n                      </div>\n                    </div>\n                  )}\n                  \n                  <div \n                    className={`message ${\n                      isFromUser \n                        ? 'user-message' \n                        : isFromBot \n                          ? 'bot-message' \n                          : 'admin-message'\n                    } ${message.isDeleted ? 'deleted-message' : ''}`}\n                  >\n                    {message.isDeleted ? (\n                      <div className=\"message-deleted\">\n                        This message has been deleted\n                      </div>\n                    ) : (\n                      <div className=\"message-bubble\">\n                        <div className=\"message-text\">{message.text}</div>\n                        \n                        {message.file && (\n                          <div className=\"message-attachment\">\n                            {message.file.type && message.file.type.startsWith('image/') ? (\n                              <div className=\"image-container\">\n                                <img \n                                  src={message.file.data} \n                                  alt={message.file.name}\n                                  className=\"message-image\"\n                                  onClick={() => window.open(message.file.data, '_blank')}\n                                />\n                                <div className=\"image-download\">\n                                  <a \n                                    href={message.file.data} \n                                    download={message.file.name}\n                                    className=\"download-link\"\n                                  >\n                                    Download\n                                  </a>\n                                </div>\n                              </div>\n                            ) : null}\n                          </div>\n                        )}\n                      </div>\n                    )}\n                    \n                    <div className=\"message-meta\">\n                      <span className=\"message-time\">\n                        {message.timestamp.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  {isFromUser && (\n                    <div className=\"avatar user-avatar\">\n                      <div className=\"user-avatar-inner\">\n                        <PersonIcon fontSize=\"small\" />\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n            <div ref={messagesEndRef} />\n          </div>\n        )}\n      </div>\n      \n      <div className=\"chat-input-area\">\n        <form className=\"input-form\" onSubmit={handleSend}>\n          {selectedFile && (\n            <div className=\"selected-file-container\">\n              <div className=\"selected-file\">\n                <div className=\"file-info\">\n                  <div className=\"file-icon\">ðŸ“Ž</div>\n                  <span className=\"file-name\">{selectedFile.name}</span>\n                </div>\n                <button\n                  type=\"button\"\n                  className=\"remove-file-button\"\n                  onClick={removeSelectedFile}\n                >\n                  <CloseIcon fontSize=\"small\" />\n                </button>\n              </div>\n            </div>\n          )}\n          \n          <div className=\"input-container\">\n            <button\n              type=\"button\"\n              className=\"attach-button\"\n              onClick={() => fileInputRef.current?.click()}\n              disabled={isLoading}\n            >\n              <AttachFileIcon />\n            </button>\n            \n            <input\n              type=\"file\"\n              onChange={handleFileSelect}\n              ref={fileInputRef}\n              style={{ display: 'none' }}\n              id=\"file-upload\"\n            />\n            \n            <input\n              type=\"text\"\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Type a message...\"\n              className=\"message-input\"\n              disabled={isLoading}\n            />\n            \n            <button\n              type=\"submit\"\n              className=\"send-button\"\n              disabled={(!input.trim() && !selectedFile) || isLoading}\n            >\n              {isLoading ? (\n                <div className=\"sending-spinner\"></div>\n              ) : (\n                <SendIcon />\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <style jsx>{`\n        .chat-container {\n          display: flex;\n          flex-direction: column;\n          height: 100vh;\n          max-width: 900px;\n          margin: 0 auto;\n          border: none;\n          border-radius: 24px;\n          overflow: hidden;\n          box-shadow: 0 12px 48px rgba(0,0,0,0.4);\n          background: #07030c;\n        }\n        \n        .chat-header {\n          background: linear-gradient(120deg, #e0f2fe 0%, #bae6fd 50%, #7dd3fc 100%);\n          color: #0c4a6e;\n          padding: 20px;\n          position: relative;\n          z-index: 10;\n          box-shadow: 0 4px 15px rgba(56, 189, 248, 0.15);\n          border-bottom: 1px solid rgba(56, 189, 248, 0.2);\n        }\n        \n        .header-content {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 0 10px;\n        }\n        \n        .logo-container {\n          display: flex;\n          align-items: center;\n          background: rgba(255, 255, 255, 0.5);\n          padding: 8px 15px;\n          border-radius: 20px;\n          box-shadow: 0 2px 10px rgba(56, 189, 248, 0.12);\n          border: 1px solid rgba(186, 230, 253, 0.5);\n        }\n        \n        .header-icon {\n          font-size: 24px;\n          margin-right: 10px;\n          color: #0284c7;\n        }\n        \n        .header-title {\n          font-size: 20px;\n          font-weight: 600;\n          background: linear-gradient(to right, #0c4a6e, #0369a1);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          letter-spacing: 0.5px;\n        }\n        \n        .user-container {\n          background: rgba(255, 255, 255, 0.5);\n          padding: 6px 12px;\n          border-radius: 15px;\n          display: flex;\n          align-items: center;\n          box-shadow: 0 2px 8px rgba(56, 189, 248, 0.1);\n          border: 1px solid rgba(186, 230, 253, 0.5);\n        }\n        \n        .user-info {\n          display: flex;\n          align-items: center;\n        }\n        \n        .user-icon {\n          color: #0284c7 !important;\n          margin-right: 5px;\n        }\n        \n        .username {\n          font-weight: 500;\n          color: #0369a1;\n        }\n        \n        .chat-messages-container {\n          flex: 1;\n          overflow-y: auto;\n          padding: 32px 24px;\n          background: linear-gradient(180deg, #0a0514 0%, #11051d 100%);\n          background-attachment: fixed;\n          display: flex;\n          flex-direction: column;\n        }\n        \n        .messages-list {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n        }\n        \n        .message-row {\n          display: flex;\n          align-items: flex-end;\n          gap: 14px;\n          max-width: 85%;\n        }\n        \n        .user-row {\n          align-self: flex-end;\n          margin-right: 10px;\n        }\n        \n        .other-row {\n          align-self: flex-start;\n          margin-left: 10px;\n        }\n        \n        .avatar {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n          overflow: hidden;\n          flex-shrink: 0;\n        }\n        \n        .bot-avatar {\n          background: linear-gradient(135deg, #2563eb, #3b82f6);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n          border: 2px solid rgba(255, 255, 255, 0.3);\n          box-shadow: 0 2px 8px rgba(37, 99, 235, 0.5);\n        }\n        \n        .admin-message {\n          background: #1e1a24;\n          color: #eee;\n          border-bottom-left-radius: 4px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          border-left: 3px solid #3b82f6;\n        }\n        \n        .user-avatar {\n          background: linear-gradient(135deg, #7dd3fc, #38bdf8);\n          color: white;\n          position: relative;\n          border: 2px solid rgba(255, 255, 255, 0.5);\n          box-shadow: 0 2px 8px rgba(56, 189, 248, 0.4);\n        }\n        \n        .user-avatar-inner {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: linear-gradient(135deg, #7dd3fc, #38bdf8);\n          border-radius: 50%;\n        }\n        \n        .message {\n          position: relative;\n          padding: 0;\n          border-radius: 18px;\n          animation: fadeIn 0.3s ease-out;\n          transition: transform 0.2s ease;\n          max-width: 600px;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .message:hover {\n          transform: translateY(-2px);\n        }\n        \n        .bot-message {\n          background: #1e1a24;\n          color: #eee;\n          border-bottom-left-radius: 4px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          border-left: 3px solid #3b82f6;\n        }\n        \n        .user-message {\n          background: linear-gradient(135deg, #bae6fd, #7dd3fc);\n          color: #0c4a6e;\n          border-bottom-right-radius: 4px;\n          box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);\n        }\n        \n        .message-bubble {\n          padding: 14px 18px;\n        }\n        \n        .message-text {\n          font-size: 1.05em;\n          line-height: 1.5;\n          word-break: break-word;\n        }\n        \n        .message-meta {\n          display: flex;\n          justify-content: flex-end;\n          padding: 2px 12px 8px;\n        }\n        \n        .message-time {\n          font-size: 0.75em;\n          opacity: 0.8;\n        }\n        \n        .message-deleted {\n          padding: 12px 18px;\n          font-style: italic;\n          opacity: 0.7;\n        }\n        \n        .chat-input-area {\n          padding: 20px 24px;\n          background: #0a0514;\n          border-top: 1px solid rgba(59, 130, 246, 0.1);\n          position: relative;\n        }\n        \n        .input-form {\n          max-width: 1100px;\n          margin: 0 auto;\n        }\n        \n        .input-container {\n          display: flex;\n          align-items: center;\n          gap: 14px;\n          background: rgba(30, 26, 36, 0.8);\n          border-radius: 50px;\n          padding: 6px;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n        }\n        \n        .message-input {\n          flex: 1;\n          height: 42px;\n          padding: 0 16px;\n          border: none;\n          border-radius: 30px;\n          outline: none;\n          background: transparent;\n          color: white;\n          font-size: 1.05em;\n          transition: all 0.3s ease;\n        }\n        \n        .message-input:focus {\n          box-shadow: none;\n        }\n        \n        .attach-button, \n        .send-button {\n          width: 42px;\n          height: 42px;\n          border-radius: 50%;\n          border: none;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          flex-shrink: 0;\n        }\n        \n        .attach-button {\n          background: transparent;\n          color: #a9a6b0;\n        }\n        \n        .attach-button:hover:not(:disabled) {\n          background: rgba(255, 255, 255, 0.1);\n          transform: translateY(-2px);\n          color: #3b82f6;\n        }\n        \n        .send-button {\n          background: linear-gradient(135deg, #38bdf8, #0284c7);\n          color: white;\n          box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);\n        }\n        \n        .send-button:disabled, \n        .attach-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          transform: none;\n        }\n        \n        .send-button:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 16px rgba(56, 189, 248, 0.3);\n        }\n        \n        .selected-file-container {\n          background: rgba(30, 26, 36, 0.8);\n          border-radius: 16px;\n          padding: 10px 16px;\n          margin-bottom: 12px;\n          border-left: 3px solid #38bdf8;\n          animation: slideIn 0.3s ease;\n        }\n        \n        @keyframes slideIn {\n          from { opacity: 0; transform: translateY(-10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .selected-file {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .file-info {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          color: #d4d0df;\n        }\n        \n        .file-name {\n          font-size: 0.95em;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: 300px;\n        }\n        \n        .remove-file-button {\n          background: none;\n          border: none;\n          color: #a9a6b0;\n          cursor: pointer;\n          border-radius: 50%;\n          width: 30px;\n          height: 30px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n        }\n        \n        .remove-file-button:hover {\n          background: rgba(255,255,255,0.1);\n          color: #ef4444;\n        }\n        \n        .message-image {\n          max-width: 100%;\n          height: auto;\n          max-height: 300px;\n          border-radius: 12px;\n          \n          transition: transform 0.3s ease;\n        }\n        \n        .message-image:hover {\n          transform: scale(1.02);\n        }\n        \n        .image-container {\n          position: relative;\n          overflow: hidden;\n          border-radius: 12px;\n          \n        }\n        \n        .image-download {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          background: rgba(0,0,0,0.7);\n          padding: 8px;\n          text-align: center;\n          transform: translateY(100%);\n          transition: transform 0.3s ease;\n        }\n        \n        .image-container:hover .image-download {\n          transform: translateY(0);\n        }\n        \n        .download-link {\n          color: white;\n          text-decoration: none;\n          font-size: 0.85em;\n          font-weight: 500;\n        }\n        \n        .file-link {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 10px 14px;\n          background: rgba(255,255,255,0.05);\n          border-radius: 12px;\n          text-decoration: none;\n          color: inherit;\n          transition: background 0.2s ease;\n          margin-top: 10px;\n        }\n        \n        .file-link:hover {\n          background: rgba(255,255,255,0.1);\n        }\n        \n        .file-details {\n          flex: 1;\n        }\n        \n        .file-action {\n          font-size: 0.8em;\n          opacity: 0.7;\n          margin-top: 4px;\n        }\n        \n        .loading-container,\n        .empty-chat {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          padding: 40px;\n        }\n        \n        .loading-spinner {\n          width: 40px;\n          height: 40px;\n          border: 3px solid rgba(56, 189, 248, 0.1);\n          border-top: 3px solid #38bdf8;\n          border-radius: 50%;\n          margin-bottom: 20px;\n          animation: spin 1s linear infinite;\n        }\n        \n        .sending-spinner {\n          width: 20px;\n          height: 20px;\n          border: 2px solid rgba(255,255,255,0.2);\n          border-top: 2px solid white;\n          border-radius: 50%;\n          animation: spin 0.8s linear infinite;\n        }\n        \n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        .loading-text {\n          color: #a9a6b0;\n          font-size: 1.1em;\n        }\n        \n        .welcome-message {\n          text-align: center;\n          max-width: 450px;\n          background: rgba(255,255,255,0.03);\n          padding: 40px;\n          border-radius: 20px;\n          box-shadow: 0 8px 32px rgba(0,0,0,0.1);\n          animation: fadeIn 0.5s ease-out;\n        }\n        \n        .welcome-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-bottom: 20px;\n          filter: drop-shadow(0 4px 6px rgba(56, 189, 248, 0.3));\n          background: linear-gradient(135deg, #38bdf8, #0284c7);\n          width: 80px;\n          height: 80px;\n          border-radius: 50%;\n          margin-left: auto;\n          margin-right: auto;\n          border: 3px solid rgba(255, 255, 255, 0.3);\n        }\n        \n        .welcome-message h2 {\n          font-size: 1.8em;\n          margin-bottom: 12px;\n          background: linear-gradient(135deg, #38bdf8, #0284c7);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          font-weight: 700;\n        }\n        \n        .welcome-message p {\n          color: #a9a6b0;\n          font-size: 1.1em;\n          line-height: 1.6;\n        }\n\n        @media (max-width: 768px) {\n          .chat-container {\n            margin: 0;\n            border-radius: 0;\n            height: 100vh;\n          }\n          \n          .chat-header {\n            padding: 16px;\n          }\n          \n          .header-content {\n            flex-direction: row;\n            justify-content: space-between;\n            gap: 10px;\n          }\n          \n          .header-icon {\n            font-size: 1.8em;\n          }\n          \n          .header-title {\n            font-size: 1.5em;\n          }\n          \n          .user-info {\n            padding: 8px 16px;\n          }\n          \n          .username {\n            font-size: 1.1em;\n          }\n          \n          .message-row {\n            max-width: 100%;\n          }\n          \n          .message {\n            max-width: 85%;\n          }\n          \n          .bot-message,\n          .admin-message {\n            max-width: 80%;\n          }\n          \n          .message-input {\n            height: 48px;\n            padding: 0 16px;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 48px;\n            height: 48px;\n          }\n          \n          .message-image {\n            max-height: 200px;\n          }\n          \n          .chat-input-area {\n            padding: 14px;\n          }\n          \n          .input-container {\n            padding: 4px;\n            gap: 8px;\n          }\n          \n          .message-input {\n            height: 38px;\n            padding: 0 12px;\n            font-size: 1em;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 38px;\n            height: 38px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .chat-header {\n            padding: 12px;\n          }\n          \n          .header-icon {\n            font-size: 1.5em;\n          }\n          \n          .header-title {\n            font-size: 1.3em;\n          }\n          \n          .user-info {\n            padding: 6px 12px;\n          }\n          \n          .username {\n            font-size: 1em;\n          }\n          \n          .chat-messages-container {\n            padding: 20px 12px;\n          }\n          \n          .message-row {\n            gap: 8px;\n          }\n          \n          .avatar {\n            width: 28px;\n            height: 28px;\n          }\n          \n          .message-bubble {\n            padding: 12px 14px;\n          }\n          \n          .message-text {\n            font-size: 0.95em;\n          }\n          \n          .message-input {\n            height: 44px;\n            font-size: 0.95em;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 44px;\n            height: 44px;\n          }\n          \n          .chat-input-area {\n            padding: 10px;\n          }\n          \n          .input-container {\n            padding: 3px;\n            gap: 6px;\n          }\n          \n          .message-input {\n            height: 36px;\n            font-size: 0.95em;\n            padding: 0 10px;\n          }\n          \n          .attach-button, \n          .send-button {\n            width: 36px;\n            height: 36px;\n          }\n          \n          .welcome-message {\n            padding: 24px;\n          }\n          \n          .welcome-message h2 {\n            font-size: 1.4em;\n          }\n          \n          .welcome-message p {\n            font-size: 1em;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nexport default ChatInterface;"],"mappings":"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AAA,UAAOD,GAAG,MAAAgH,QAAA,CAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAAQ,CAAC,EACP,CAAC,CAEV,CAEA,cAAe,CAAAxG,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}